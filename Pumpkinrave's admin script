wait("0.2")

-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- RemoteEvent creation
local teleportEvent = ReplicatedStorage:FindFirstChild("TeleportEvent")
if not teleportEvent then
    teleportEvent = Instance.new("RemoteEvent")
    teleportEvent.Name = "TeleportEvent"
    teleportEvent.Parent = ReplicatedStorage
end

-- Server-side teleport handling
if RunService:IsServer() then
    teleportEvent.OnServerEvent:Connect(function(p)
        local char = p.Character
        if not char or not char:FindFirstChild("HumanoidRootPart") then return end

        local originalCFrame = char.HumanoidRootPart.CFrame
        for _, target in ipairs(Players:GetPlayers()) do
            if target ~= p and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                char:SetPrimaryPartCFrame(target.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0))
                task.wait(2)
                char:SetPrimaryPartCFrame(originalCFrame)
            end
        end
    end)
    return
end

-- GUI Creation
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TeleportGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 220, 0, 130)
mainFrame.Position = UDim2.new(1, -230, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainFrame.BackgroundTransparency = 0.1
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Rounded corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = mainFrame

-- Teleport Button
local teleportButton = Instance.new("TextButton")
teleportButton.Size = UDim2.new(1, -20, 0, 40)
teleportButton.Position = UDim2.new(0, 10, 0, 10)
teleportButton.Text = "Teleport to Everyone"
teleportButton.TextColor3 = Color3.new(1, 1, 1)
teleportButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
teleportButton.BorderSizePixel = 0
teleportButton.Parent = mainFrame
local teleportCorner = Instance.new("UICorner")
teleportCorner.CornerRadius = UDim.new(0, 8)
teleportCorner.Parent = teleportButton

-- Mobile Keypad Button
local keypadButton = Instance.new("TextButton")
keypadButton.Size = UDim2.new(1, -20, 0, 40)
keypadButton.Position = UDim2.new(0, 10, 0, 60)
keypadButton.Text = "Mobile Keypad"
keypadButton.TextColor3 = Color3.new(1, 1, 1)
keypadButton.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
keypadButton.BorderSizePixel = 0
keypadButton.Parent = mainFrame
local keypadCorner = Instance.new("UICorner")
keypadCorner.CornerRadius = UDim.new(0, 8)
keypadCorner.Parent = keypadButton

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 20, 0, 20)
closeButton.Position = UDim2.new(1, -25, 0, 5)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
closeButton.BorderSizePixel = 0
closeButton.Parent = mainFrame
local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 4)
closeCorner.Parent = closeButton

-- Pumpkin Toggle Button
local pumpkinButton = Instance.new("ImageButton")
pumpkinButton.Size = UDim2.new(0, 50, 0, 50)
pumpkinButton.Position = UDim2.new(0.5, -25, 0, 10)
pumpkinButton.Image = "rbxassetid://6537731035" -- Pumpkin image
pumpkinButton.Visible = false
pumpkinButton.BackgroundTransparency = 1
pumpkinButton.Parent = screenGui
pumpkinButton.Draggable = true

-- Functionality
teleportButton.MouseButton1Click:Connect(function()
    teleportEvent:FireServer()
end)

keypadButton.MouseButton1Click:Connect(function()
    -- ðŸ”¹ Replace this code with the script you want to run in YOUR game
    print("Mobile keypad button pressed â€” run your own safe code here!")
end)

closeButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    pumpkinButton.Visible = true
end)

pumpkinButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    pumpkinButton.Visible = false
end)
